/* ================================================================ */
/* FLOATING CTA COMPONENT */
/* A sticky CTA that floats next to blog content on the right side */
/* Uses pure CSS position: sticky - automatically stops at parent boundary */
/* Grid aligns with header: logo (left) to Contact Us button (right) */
/* Supports dark and light themes with optional background image */
/* ================================================================ */

.floating-cta {
  position: sticky;
  top: 6rem; /* Account for header height */
  width: 280px;
  flex-shrink: 0;
  align-self: flex-start;
  z-index: 10;
  margin-left: auto; /* Push to the right edge */
  perspective: 1000px; /* Enable 3D transforms */
}

/* ================================================================ */
/* DARK THEME (default) */
/* ================================================================ */

.floating-cta--dark .floating-cta__inner {
  @apply rounded-2xl overflow-hidden;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
              0 2px 4px -2px rgba(0, 0, 0, 0.1),
              0 0 0 1px rgba(255, 255, 255, 0.05);
  transform-style: preserve-3d;
  transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1),
              box-shadow 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.floating-cta--dark .floating-cta__inner:hover {
  transform: translateY(-8px) rotateX(4deg) rotateY(-2deg) scale(1.02);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4),
              0 12px 24px -8px rgba(0, 0, 0, 0.3),
              0 0 0 1px rgba(255, 255, 255, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.floating-cta--dark .floating-cta__heading {
  color: #ffffff;
}

.floating-cta--dark .floating-cta__description {
  color: #cbd5e1;
}

.floating-cta--dark .floating-cta__feature {
  color: #e2e8f0;
}

.floating-cta--dark .floating-cta__secondary a {
  color: #94a3b8;
}

.floating-cta--dark .floating-cta__secondary a:hover {
  color: #e2e8f0;
}

/* Dark theme button override - white on dark */
.floating-cta--dark .floating-cta__action .btn-primary {
  @apply bg-white text-gray-900 hover:bg-gray-100;
}

/* ================================================================ */
/* LIGHT THEME */
/* ================================================================ */

.floating-cta--light .floating-cta__inner {
  @apply rounded-lg overflow-hidden relative;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  transform-style: preserve-3d;
  transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1),
              box-shadow 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.floating-cta--light .floating-cta__inner:hover {
  transform: translateY(-8px) rotateX(4deg) rotateY(-2deg) scale(1.02);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15),
              0 12px 24px -8px rgba(0, 0, 0, 0.1);
}

.floating-cta--light .floating-cta__heading {
  @apply text-gray-900;
}

.floating-cta--light .floating-cta__description {
  @apply text-gray-600;
}

.floating-cta--light .floating-cta__feature {
  @apply text-gray-700;
}

.floating-cta--light .floating-cta__badge {
  @apply bg-primary-50 text-primary-700;
}

.floating-cta--light .floating-cta__secondary a {
  @apply text-gray-500;
}

.floating-cta--light .floating-cta__secondary a:hover {
  @apply text-gray-700;
}

/* ================================================================ */
/* BACKGROUND IMAGE VARIANT */
/* ================================================================ */

.floating-cta--has-bg .floating-cta__inner {
  @apply pb-0; /* Remove bottom padding, background image will add space */
  position: relative;
}

.floating-cta--has-bg .floating-cta__action {
  @apply pb-0 mb-4; /* Reduce bottom padding when bg image is present */
}

/* Background image container */
.floating-cta__bg-image {
  @apply w-full relative;
  margin-top: auto;
}

/* Gradient overlay on top of background image */
.floating-cta__bg-image::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40px;
  z-index: 1;
  pointer-events: none;
}

/* Dark theme gradient - fades from dark background to transparent */
.floating-cta--dark .floating-cta__bg-image::before {
  background: linear-gradient(to bottom, #0f172a 0%, transparent 100%);
}

/* Light theme gradient - fades from light background to transparent */
.floating-cta--light .floating-cta__bg-image::before {
  background: linear-gradient(to bottom, #f9fafb 0%, transparent 100%);
}

.floating-cta__bg-image figure {
  @apply m-0;
}

.floating-cta__bg-image picture {
  @apply block w-full;
}

.floating-cta__bg-image img,
.floating-cta__bg-img {
  @apply w-full h-auto block;
}

/* ================================================================ */
/* LOGO SECTION */
/* ================================================================ */

.floating-cta__logo {
  @apply mb-4 pt-3 pb-2;
}

/* ================================================================ */
/* BACKWARDS COMPATIBILITY - default inner styles */
/* ================================================================ */

/* Inner container with styling - fallback for unthemed usage */
.floating-cta__inner {
  @apply rounded-2xl overflow-hidden;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
              0 2px 4px -2px rgba(0, 0, 0, 0.1),
              0 0 0 1px rgba(255, 255, 255, 0.05);
  transform-style: preserve-3d;
  transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1),
              box-shadow 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.floating-cta__inner:hover {
  transform: translateY(-8px) rotateX(4deg) rotateY(-2deg) scale(1.02);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4),
              0 12px 24px -8px rgba(0, 0, 0, 0.3),
              0 0 0 1px rgba(255, 255, 255, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Light mode - gradient style (legacy class) */
.floating-cta__inner--gradient {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
}

/* Badge/Label */
.floating-cta__badge {
  @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium mb-3;
  background: rgb(var(--color-primary) / 0.2);
  color: rgb(var(--color-primary-300));
}

.floating-cta__badge svg {
  @apply w-3.5 h-3.5;
}

/* Image section */
.floating-cta__image {
  @apply w-full my-4;
}

.floating-cta__image figure {
  @apply m-0;
}

.floating-cta__image picture {
  @apply block w-full;
}

.floating-cta__image img {
  @apply w-full h-auto min-h-[80px] rounded-lg;
}

/* Content section */
.floating-cta__content {
  @apply p-5 pt-4;
}

.floating-cta__heading {
  @apply text-lg font-bold mb-2 leading-tight;
  color: #ffffff;
}

.floating-cta__description {
  @apply text-sm leading-relaxed mb-4;
  color: #cbd5e1;
}

/* Feature list */
.floating-cta__features {
  @apply mt-0 space-y-2;
}

.floating-cta__feature {
  @apply flex items-center gap-2 text-xs;
  color: #e2e8f0;
}

.floating-cta__feature svg {
  @apply w-4 h-4 flex-shrink-0;
  color: #22c55e;
}

/* Light theme feature checkmark */
.floating-cta--light .floating-cta__feature svg {
  @apply text-primary-600;
}

/* Action/Button section */
.floating-cta__action {
  @apply px-5 pb-5 pt-2;
}

/* Custom button styling for floating CTA */
.floating-cta__action .btn {
  @apply w-full justify-center font-semibold;
}

/* Secondary link */
.floating-cta__secondary {
  @apply mt-3 text-center;
}

.floating-cta__secondary a {
  @apply text-xs hover:underline transition-colors;
  color: #94a3b8;
}

.floating-cta__secondary a:hover {
  color: #e2e8f0;
}

/* Blog content wrapper - modified to accommodate floating CTA */
/* Layout ensures grid aligns with header (logo to Contact Us button) */
.blog-content-with-cta {
  @apply flex justify-between;
  gap: 2rem; /* Gap between content and CTA */
}

.blog-content-with-cta .blog-main-content {
  @apply min-w-0;
  flex: 0 1 896px; /* max-w-4xl equivalent - matches wrapper-content */
}

/* On xl screens, use more gap for better spacing */
@media (min-width: 1280px) {
  .blog-content-with-cta {
    gap: 3rem;
  }
}

/* Hide floating CTA on smaller screens */
@media (max-width: 1279px) {
  .floating-cta {
    display: none;
  }

  .blog-content-with-cta {
    display: block;
  }
}

/* Adjust for larger screens - CTA fills remaining space to align with header edge */
@media (min-width: 1280px) {
  .floating-cta {
    width: 300px;
  }
}

@media (min-width: 1536px) {
  .floating-cta {
    width: 340px;
  }
}
