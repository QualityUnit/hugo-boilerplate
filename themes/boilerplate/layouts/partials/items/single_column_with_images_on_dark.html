{{/* Configurable variables */}}
{{ $bgColor := .bgColor | default "bg-gray-900" }}
{{ $padding := .padding | default "py-24 sm:py-32" }}

{{/* Heading section */}}
{{ $heading := .heading | default "From the blog" }}
{{ $headingColor := .headingColor | default "text-white" }}
{{ $description := .description | default "Learn how to grow your business with our expert advice." }}
{{ $descriptionColor := .descriptionColor | default "text-gray-300" }}

{{/* Items */}}
{{ $items := .items | default (slice 
  (dict 
    "image" "https://images.unsplash.com/photo-1496128858413-b36217c2ce36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-03-16"
    "dateDisplay" "Mar 16, 2020"
    "category" "Marketing"
    "categoryLink" "#"
    "categoryBg" "bg-gray-800"
    "categoryColor" "text-gray-300"
    "categoryHoverBg" "hover:bg-gray-700"
    "title" "Boost your conversion rate"
    "titleLink" "#"
    "description" "Illo sint voluptas. Error voluptates culpa eligendi. Hic vel totam vitae illo. Non aliquid explicabo necessitatibus unde. Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta laboris incididunt."
    "authorImage" "https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Michael Foster"
    "authorLink" "#"
    "authorRole" "Co-Founder / CTO"
  )
  (dict 
    "image" "https://images.unsplash.com/photo-1547586696-ea22b4d4235d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-03-10"
    "dateDisplay" "Mar 10, 2020"
    "category" "Sales"
    "categoryLink" "#"
    "categoryBg" "bg-gray-800"
    "categoryColor" "text-gray-300"
    "categoryHoverBg" "hover:bg-gray-700"
    "title" "How to use search engine optimization to drive sales"
    "titleLink" "#"
    "description" "Optio cum necessitatibus dolor voluptatum provident commodi et. Qui aperiam fugiat nemo cumque. Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta laboris incididunt."
    "authorImage" "https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Lindsay Walton"
    "authorLink" "#"
    "authorRole" "Front-end Developer"
  )
  (dict 
    "image" "https://images.unsplash.com/photo-1492724441997-5dc865305da7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3603&q=80"
    "imageAlt" "Blog post image"
    "date" "2020-02-12"
    "dateDisplay" "Feb 12, 2020"
    "category" "Business"
    "categoryLink" "#"
    "categoryBg" "bg-gray-800"
    "categoryColor" "text-gray-300"
    "categoryHoverBg" "hover:bg-gray-700"
    "title" "Improve your customer experience"
    "titleLink" "#"
    "description" "Cupiditate maiores ullam eveniet adipisci in doloribus nulla minus. Voluptas iusto libero adipisci rem et corporis. Sed exercitationem placeat consectetur nulla deserunt vel iusto corrupti dicta laboris incididunt."
    "authorImage" "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
    "authorName" "Courtney Henry"
    "authorLink" "#"
    "authorRole" "Designer"
  )
) }}

{{/* Item styling */}}
{{ $imageBgColor := .imageBgColor | default "bg-gray-800" }}
{{ $imageRingColor := .imageRingColor | default "ring-white/10" }}
{{ $titleColor := .titleColor | default "text-white" }}
{{ $titleHoverColor := .titleHoverColor | default "group-hover:text-gray-400" }}
{{ $descriptionColor := .itemDescriptionColor | default "text-gray-400" }}
{{ $dateColor := .dateColor | default "text-gray-500" }}
{{ $authorNameColor := .authorNameColor | default "text-white" }}
{{ $authorRoleColor := .authorRoleColor | default "text-gray-400" }}
{{ $authorImageBg := .authorImageBg | default "bg-gray-800" }}
{{ $borderColor := .borderColor | default "border-gray-700" }}

<div class="relative isolate overflow-hidden {{ $bgColor }} {{ $padding }}">
  <!-- Background pattern -->
  <svg class="absolute inset-0 -z-10 h-full w-full stroke-white/10 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]" aria-hidden="true">
    <defs>
      <pattern id="983e3e4c-de6d-4c3f-8d64-b9761d1534cc" width="200" height="200" x="50%" y="-1" patternUnits="userSpaceOnUse">
        <path d="M.5 200V.5H200" fill="none" />
      </pattern>
    </defs>
    <rect width="100%" height="100%" stroke-width="0" fill="url(#983e3e4c-de6d-4c3f-8d64-b9761d1534cc)" />
  </svg>
  
  <div class="absolute left-[calc(50%-4rem)] top-10 -z-10 transform-gpu blur-3xl sm:left-[calc(50%-18rem)] lg:left-48 lg:top-[calc(50%-30rem)] xl:left-[calc(50%-24rem)]" aria-hidden="true">
    <div class="aspect-[1108/632] w-[69.25rem] bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-20" style="clip-path: polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"></div>
  </div>

  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl lg:max-w-4xl">
      <h2 class="text-4xl font-semibold tracking-tight text-pretty {{ $headingColor }} sm:text-5xl">{{ $heading }}</h2>
      <p class="mt-2 text-lg/8 {{ $descriptionColor }}">{{ $description }}</p>
      <div class="mt-16 space-y-20 lg:mt-20 lg:space-y-20">
        {{ range $items }}
        <article class="relative isolate flex flex-col gap-8 lg:flex-row">
          <div class="relative aspect-video sm:aspect-2/1 lg:aspect-square lg:w-64 lg:shrink-0">
            {{ if .image }}
              {{ if hasPrefix .image "http" }}
                <img src="{{ .image }}" alt="{{ .imageAlt }}" class="absolute inset-0 size-full rounded-2xl {{ $imageBgColor }} object-cover">
              {{ else }}
                {{ partial "lazyimg" (dict 
                  "src" .image 
                  "alt" .imageAlt
                  "class" "absolute inset-0 size-full rounded-2xl {{ $imageBgColor }} object-cover"
                ) }}
              {{ end }}
            {{ end }}
            <div class="absolute inset-0 rounded-2xl ring-1 {{ $imageRingColor }} ring-inset"></div>
          </div>
          <div>
            <div class="flex items-center gap-x-4 text-xs">
              {{ if .date }}<time datetime="{{ .date }}" class="{{ $dateColor }}">{{ .dateDisplay }}</time>{{ end }}
              {{ if .category }}<a href="{{ .categoryLink }}" class="relative z-10 rounded-full {{ .categoryBg }} px-3 py-1.5 font-medium {{ .categoryColor }} {{ .categoryHoverBg }}">{{ .category }}</a>{{ end }}
            </div>
            <div class="group relative max-w-xl">
              <h3 class="mt-3 text-lg/6 font-semibold {{ $titleColor }} {{ $titleHoverColor }}">
                <a href="{{ .titleLink }}">
                  <span class="absolute inset-0"></span>
                  {{ .title }}
                </a>
              </h3>
              <p class="mt-5 text-sm/6 {{ $descriptionColor }}">{{ .description }}</p>
            </div>
            {{ if .authorName }}
            <div class="mt-6 flex border-t {{ $borderColor }} pt-6">
              <div class="relative flex items-center gap-x-4">
                {{ if .authorImage }}
                  {{ if hasPrefix .authorImage "http" }}
                    <img src="{{ .authorImage }}" alt="{{ .authorName }}" class="size-10 rounded-full {{ $authorImageBg }}">
                  {{ else }}
                    {{ partial "lazyimg" (dict 
                      "src" .authorImage 
                      "alt" .authorName
                      "class" "size-10 rounded-full {{ $authorImageBg }}"
                    ) }}
                  {{ end }}
                {{ end }}
                <div class="text-sm/6">
                  <p class="font-semibold {{ $authorNameColor }}">
                    <a href="{{ .authorLink }}">
                      <span class="absolute inset-0"></span>
                      {{ .authorName }}
                    </a>
                  </p>
                  {{ if .authorRole }}<p class="{{ $authorRoleColor }}">{{ .authorRole }}</p>{{ end }}
                </div>
              </div>
            </div>
            {{ end }}
          </div>
        </article>
        {{ end }}
      </div>
    </div>
  </div>
</div>
