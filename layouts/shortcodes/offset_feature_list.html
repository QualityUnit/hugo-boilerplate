{{/* Shortcode for Offset with Feature List section */}}
{{- $params := dict -}}

{{/* Set default values */}}
{{- $params = merge $params (dict "tagline" (.Get "tagline" | default "Everything you need")) -}}
{{- $params = merge $params (dict "heading" (.Get "heading" | default "All-in-one platform")) -}}
{{- $params = merge $params (dict "description" (.Get "description" | default "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Maiores impedit perferendis suscipit eaque, iste dolor cupiditate blanditiis ratione.")) -}}
{{- $params = merge $params (dict "iconColor" (.Get "iconColor" | default "indigo-500")) -}}
{{- $params = merge $params (dict "taglineColor" (.Get "taglineColor" | default "indigo-600")) -}}
{{- $params = merge $params (dict "page" .Page) -}}

{{/* Handle features from shortcode parameters */}}
{{- $features := slice -}}
{{- if .Inner -}}
  {{/* Process features from inner content */}}
  {{- $featureItems := split .Inner "\n" -}}
  {{- range $item := $featureItems -}}
    {{- $item = trim $item " \r\n" -}}
    {{- if $item -}}
      {{- $parts := split $item "|" -}}
      {{- if ge (len $parts) 2 -}}
        {{- $feature := dict 
          "title" (trim (index $parts 0) " ")
          "description" (trim (index $parts 1) " ")
        -}}
        {{- $features = $features | append $feature -}}
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- else -}}
  {{/* Default features if none provided */}}
  {{- $features = slice 
    (dict "title" "Invite team members" "description" "Rerum repellat labore necessitatibus reprehenderit molestiae praesentium.")
    (dict "title" "List view" "description" "Corporis asperiores ea nulla temporibus asperiores non tempore assumenda aut.")
    (dict "title" "Keyboard shortcuts" "description" "In sit qui aliquid deleniti et. Ad nobis sunt omnis. Quo sapiente dicta laboriosam.")
    (dict "title" "Calendars" "description" "Sed rerum sunt dignissimos ullam. Iusto iure occaecati voluptate eligendi.")
    (dict "title" "Notifications" "description" "Quos inventore harum enim nesciunt. Aut repellat rerum omnis adipisci.")
    (dict "title" "Boards" "description" "Quae sit sunt excepturi fugit veniam voluptatem ipsum commodi.")
  -}}
{{- end -}}
{{- $params = merge $params (dict "features" $features) -}}

{{/* Render the partial with all parameters */}}
{{- partial "sections/features/offset_with_feature_list" $params -}}
