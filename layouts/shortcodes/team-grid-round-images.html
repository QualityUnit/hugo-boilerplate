{{/* 
  Example usage of the shortcode:
  {{< team-grid-round-images 
    heading="Our Amazing Team" 
    description="Meet the talented individuals behind our success." 
    bgColor="section-bg-alternate" 
    margin="my-24 sm:my-32"
    padding="py-0" 
    headingColor="text-heading" 
    descriptionColor="text-secondary" 
    nameColor="text-heading" 
    roleColor="text-secondary" 
  >}}
[
{
"name": "Keisha Williams",
"role": "Sales Manager",
"image": "/images/team/keisha-williams.jpg"
},
... other team members ...
]
{{< /team-grid-round-images >}}
*/}}

{{/* Team Grid with Round Images Shortcode */}}
{{ $heading := (.Get "heading") | default "" }}
{{ $description := (.Get "description") | default "" }}
{{ $bgColor := (.Get "bgColor") | default "section-bg-light" }}
{{ $margin := (.Get "margin") | default "my-24 sm:my-32" }}
{{ $padding := (.Get "padding") | default "py-0" }}
{{ $headingColor := (.Get "headingColor") | default "text-heading" }}
{{ $descriptionColor := (.Get "descriptionColor") | default "text-secondary" }}
{{ $nameColor := (.Get "nameColor") | default "text-heading" }}
{{ $roleColor := (.Get "roleColor") | default "text-secondary" }}
{{- $teamMembers := slice -}}
{{- if .Inner -}}
{{- $rawTeamMembers := transform.Unmarshal .Inner -}}
{{- if reflect.IsSlice $rawTeamMembers -}}
{{- $teamMembers = $rawTeamMembers -}}
{{- end -}}
{{- else -}}
{{- $teamMembers = .Page.Params.teamMembers | default slice -}}
{{- end -}}


{{ partial "sections/team/grid_with_round_images.html" (dict 
  "heading" $heading
  "description" $description
  "bgColor" $bgColor
  "margin" $margin
  "padding" $padding
  "headingColor" $headingColor
  "descriptionColor" $descriptionColor
  "nameColor" $nameColor
  "roleColor" $roleColor
  "teamMembers" $teamMembers
) }}
