{{/* 
Example usage of Split Hero with Image Shortcode:
{{< hero-split-with-image 
  "heading"="Empower Your Business" 
  "description"="Discover tools and insights to drive growth and success." 
  "imageUrl"="https://example.com/hero-image.jpg" 
  "imageAlt"="An inspiring hero image" 
  "videoUrl"="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
  "videoPoster"="https://example.com/video-poster.jpg"
  "videoEnabled"="true"
  "showVideoPlayButton"="false"
  "primaryCTAText"="Start Now" 
  "primaryCTAUrl"="/get-started" 
  "secondaryCTAText"="Learn More" 
  "secondaryCTAUrl"="/learn-more" 
  "logo"="https://example.com/logo.svg" 
  "announcementEnabled"="true" 
  "announcementText"="Special announcement for our users." 
  "announcementLinkText"="Find out more" 
  "announcementLinkUrl"="/announcement-link"
  "typewriterEnabled"="true"
  "typewriterWords"="2"
  "typewriterSpeed"="120"
  "typewriterDeleteSpeed"="60"
  "typewriterPause"="2500"
  "typewriterColor"="text-blue-600"
  "yPadding"="sm:py-0 lg:py-24"
  "badges"="No setup fee, Customer service, No credit card required, Cancel any time"
  "date"="2025-05-30T14:48:00Z"
  "lastmod"="2025-05-30T16:30:00Z"
  "author"="lsavko"
>}}

Parameters:
- heading: Main heading text
- description: Description text below the heading
- imageUrl: URL of the hero image
- imageAlt: Alt text for the hero image
- videoUrl: YouTube URL for video popup (optional, takes priority over image if enabled)
- videoPoster: Custom poster image for the video (optional, if not provided uses imageUrl)
- videoEnabled: Enable video mode instead of image (true/false, default: false)
- showVideoPlayButton: Show play button overlay on video (true/false, default: false)
- primaryCTAText: Text for the primary call-to-action button
- primaryCTAUrl: URL for the primary call-to-action button
- secondaryCTAText: Text for the secondary call-to-action button
- secondaryCTAUrl: URL for the secondary call-to-action button
- logo: URL of the logo image
- announcementEnabled: Enable/disable announcement banner (true/false)
- announcementText: Text for the announcement banner
- announcementLinkText: Text for the announcement link
- announcementLinkUrl: URL for the announcement link
- typewriterEnabled: Enable/disable typewriter effect (true/false, default: false)
- typewriterWords: Number of words to animate from the end (default: 1)
- typewriterSpeed: Typing speed in milliseconds (default: 100)
- typewriterDeleteSpeed: Deleting speed in milliseconds (default: 50)
- typewriterPause: Pause duration between word cycles in milliseconds (default: 2000)
- typewriterColor: Tailwind CSS color class for animated text (default: "text-indigo-600")
- yPadding: Custom y-padding value using Tailwind classes (default: "sm:py-0 lg:py-24")
- badges: Comma-separated list of badge texts to display (optional)
- date: Publication date in ISO format (e.g., "2025-05-30T14:48:00Z") (optional)
- lastmod: Last modification date in ISO format (e.g., "2025-05-30T14:48:00Z") (optional)
- author: Author key/identifier (string) - will create link to /author/{author}/ if page exists (optional)
*/}}

{{/* Split Hero with Image Shortcode */}}
{{ $heading := .Get "heading" | default "Data to enrich your business" }}
{{ $description := .Get "description" | default "" }}
{{ $imageUrl := .Get "imageUrl" | default "" }}
{{ $imageAlt := .Get "imageAlt" | default "" }}

{{/* Video parameters */}}
{{ $videoUrl := .Get "videoUrl" | default "" }}
{{ $videoPoster := .Get "videoPoster" | default "" }}
{{ $videoEnabled := .Get "videoEnabled" | default "false" }}
{{ $showVideoPlayButton := .Get "showVideoPlayButton" | default "false" }}

{{ $primaryCTAText := .Get "primaryCTAText" }}
{{ $primaryCTAUrl := .Get "primaryCTAUrl" }}
{{ $secondaryCTAText := .Get "secondaryCTAText" }}
{{ $secondaryCTAUrl := .Get "secondaryCTAUrl" }}
{{ $logo := .Get "logo" }}
{{ $announcementEnabled := .Get "announcementEnabled" | default "false" }}
{{ $announcementText := .Get "announcementText" | default "" }}
{{ $announcementLinkText := .Get "announcementLinkText" | default "Read more" }}
{{ $announcementLinkUrl := .Get "announcementLinkUrl" | default "#" }}
{{ $badges := .Get "badges" | default "" }}

{{/* Date and Last Modified parameters */}}
{{ $dateString := .Get "date" }}
{{ $lastmodString := .Get "lastmod" }}
{{ $author := .Get "author" }}

{{ $date := false }}
{{ $lastmod := false }}

{{/* Convert date strings to time objects if provided */}}
{{ if $dateString }}
  {{ $date = time $dateString }}
{{ end }}

{{ if $lastmodString }}
  {{ $lastmod = time $lastmodString }}
{{ end }}

{{/* Typewriter parameters */}}
{{ $typewriterEnabled := .Get "typewriterEnabled" | default false }}
{{ $typewriterWords := .Get "typewriterWords" | default 1 }}
{{ $typewriterSpeed := .Get "typewriterSpeed" | default 100 }}
{{ $typewriterDeleteSpeed := .Get "typewriterDeleteSpeed" | default 50 }}
{{ $typewriterPause := .Get "typewriterPause" | default 2000 }}
{{ $typewriterColor := .Get "typewriterColor" | default "text-primary" }}

{{/* Custom y-padding */}}
{{ $yPadding := .Get "yPadding" | default "sm:py-0 lg:py-24" }}
{{ $contentLeftPadding := .Get "contentLeftPadding" | default "lg:pr-20" }}

{{ $announcement := dict 
  "enabled" (eq $announcementEnabled "true")
  "text" $announcementText
  "linkText" $announcementLinkText
  "linkUrl" $announcementLinkUrl
}}

{{ $cta := dict }}

{{ if $primaryCTAText }}
  {{ $cta = merge $cta (dict "primary" (dict "text" $primaryCTAText "url" $primaryCTAUrl)) }}
{{ end }}

{{ if $secondaryCTAText }}
  {{ $cta = merge $cta (dict "secondary" (dict "text" $secondaryCTAText "url" $secondaryCTAUrl)) }}
{{ end }}

{{ $image := dict
  "url" $imageUrl
  "alt" $imageAlt
}}

{{/* Video object for popup functionality */}}
{{ $video := dict }}
{{ if and (eq $videoEnabled "true") $videoUrl }}
  {{ $video = dict
    "enabled" true
    "src" $videoUrl
    "poster" (or $videoPoster $imageUrl)
    "showPlayButton" (eq $showVideoPlayButton "true")
  }}
{{ else }}
  {{ $video = dict "enabled" false }}
{{ end }}

{{ $typewriter := dict
  "enabled" (eq $typewriterEnabled "true")
  "words" $typewriterWords
  "speed" $typewriterSpeed
  "deleteSpeed" $typewriterDeleteSpeed
  "pause" $typewriterPause
  "color" $typewriterColor
}}

{{/* Process badges into slice using reusable partial */}}
{{ $badgeSlice := partial "helpers/process-badges.html" $badges }}

{{ partial "sections/hero/split_with_image.html" (dict 
  "logo" $logo
  "announcement" $announcement
  "heading" $heading
  "description" ( $description | markdownify )
  "cta" $cta
  "image" $image
  "video" $video
  "typewriter" $typewriter
  "yPadding" $yPadding
  "contentLeftPadding" $contentLeftPadding
  "badges" $badgeSlice
  "date" $date
  "lastmod" $lastmod
  "author" $author
) }}
