{{- /*
  Usage in markdown:
  {{< button-icon 
    text="Download PDF"
    url="/downloads/guide.pdf"
    i18n="downloadPdf"
    icon="download"               <!-- required: icon name -->
    icon-position="left"          <!-- "left" or "right" -->
    variant="primary"             <!-- "primary", "outline-light", "outline-dark", or "text" -->
    class="mt-4"
    target="_blank"
    rel="noopener"
    id="download-button"
  >}}
*/ -}}

{{ $text := .Get "text" }}
{{ $i18nKey := .Get "i18n" }}
{{ $url := .Get "url" }}
{{ $icon := .Get "icon" }}
{{ $iconPosition := .Get "icon-position" | default "left" }}
{{ $variant := .Get "variant" | default "primary" }}
{{ $classes := .Get "class" | default "" }}
{{ $target := .Get "target" | default "_self" }}
{{ $rel := .Get "rel" | default "" }}
{{ $id := .Get "id" | default "" }}

{{ if not $i18nKey }}
  {{ if $text }}
    {{ $i18nKey = $text | lower | urlize }}
  {{ end }}
{{ end }}

{{ partial "components/buttons/icon.html" (dict 
    "i18nKey" $i18nKey
    "text" $text
    "url" $url
    "icon" $icon
    "iconPosition" $iconPosition
    "variant" $variant
    "classes" $classes
    "target" $target
    "rel" $rel
    "id" $id
) }}
