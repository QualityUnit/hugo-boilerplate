{{/* 
  Features partial with split image
  
  Parameters:
  - backgroundColor: Background color class (default: "bg-white")
  - imageUrl: URL to the large side image
  - imageAlt: Alt text for the side image
  - subheading: Subheading text above the main heading (default: "Leatherbound Daily Journal")
  - heading: Main heading text (default: "All in the Details")
  - description: Description text below the main heading (default: "We've obsessed over every detail of this handcrafted journal to bring you the best materials for daily use.")
  - features: Array of feature objects with the following structure:
    - title: Feature title
    - description: Feature description
  - page: Page context for linkbuilding
*/}}

{{/* Theme setup */}}
{{ $theme := .theme | default "light" }}
{{ $isDark := eq $theme "dark" }}
{{ $darkClass := cond $isDark "dark" "" }}

{{ $backgroundColor := .backgroundColor | default "bg-white" }}
{{ $imageUrl := .imageUrl | default "" }}
{{ $imageAlt := .imageAlt | default "" }}
{{ $subheading := .subheading | default "" }}
{{ $heading := .heading | default "" }}
{{ $description := .description | default "" }}

{{/* Page context for linkbuilding */}}
{{ $page := .page }}

{{ $features := .features | default (slice) }}

<div class="{{ $darkClass }}">
  <div class="section-bg-light dark:section-bg-dark py-24 sm:py-32">
    <div class="wrapper">
        <section>
          <div class="max-w-2xl mx-auto text-center">
            {{/* Subheading and heading */}}
            <h2 class="font-medium text-muted">{{ $subheading }}</h2>
            <p class="{{ if $subheading }}mt-4 {{ end }}text-5xl sm:text-7xl font-semibold tracking-tight text-heading">{{ $heading }}</p>
            <p class="mt-9 text-muted">{{ partial "utils/linkbuilding" (dict "content" $description "page" $page) | safeHTML }}</p>
          </div>
          <div class="mt-[4.5rem] rounded-xl">
            {{ partial "components/media/lazyimg.html" (dict 
              "src" $imageUrl
              "alt" $imageAlt
              "class" "w-full object-cover"
            ) }}
          </div>
          {{ if $features }}
            {{ partial "components/lists/with_icon.html" (dict "lists" $features "margin" "mt-24 sm:mt-32" "columnsClass" "grid grid-cols-1 md:grid-cols-3 gap-12 sm:gap-16") }}
          {{ end }}
        </section>
    </div>
  </div>
</div>