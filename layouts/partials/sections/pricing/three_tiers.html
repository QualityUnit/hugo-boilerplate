{{/*
@section: Three Tiers Pricing
@description: A comprehensive pricing section featuring three pricing tiers with customizable features, colors, and call-to-action buttons.
@params:
  - tagline: Short tagline above main heading (optional, default: "Pricing")
  - heading: Main section heading (optional, default: "Pricing that grows with you")
  - description: Section description text (optional, default: "Choose an affordable plan...")
  - backgroundColor: Background color for the section (optional, default: "white")
  - taglineColor: Tagline text color (optional, default: "indigo-600")
  - headingColor: Heading text color (optional, default: "gray-900")
  - descriptionColor: Description text color (optional, default: "gray-600")
  - checkIcon: SVG path for the check icon (optional, includes default)
  - tiers: Array of pricing tier objects (optional, includes defaults)
    - name: Tier name
    - id: Unique ID for the tier
    - price: Price amount with currency symbol
    - interval: Billing interval text
    - description: Short tier description
    - popular: Whether this tier should be highlighted (boolean)
    - popularText: Text for the popular badge (if popular is true)
    - popularBgColor: Background color for the popular badge
    - popularTextColor: Text color for the popular badge
    - features: Array of feature strings included in this tier
    - cta: Object with text and url for the call-to-action button
    - nameColor: Tier name color
    - priceColor: Price text color
    - intervalColor: Interval text color
    - descriptionColor: Tier description color
    - featureColor: Feature text color
    - checkColor: Check icon color
    - ctaColor: CTA button text color
    - ctaBgColor: CTA button background color (if empty, uses outline style)
    - ctaHoverBgColor: CTA button hover background color
    - ctaRingColor: CTA button outline color (for outline style)
    - ctaHoverRingColor: CTA button hover outline color (for outline style)
    - backgroundColor: Tier card background color
    - borderColor: Tier card border color
    - position: Position in the grid ("left", "center", or "right")
@example:
  {{ partial "sections/pricing/three_tiers.html" (dict 
      "tagline" "Pricing Plans"
      "heading" "Choose the right plan for your business"
      "description" "All plans include a 14-day free trial. No credit card required."
      "backgroundColor" "gray-50"
      "tiers" (slice
          (dict
              "name" "Basic"
              "id" "tier-basic"
              "price" "$29"
              "interval" "/month"
              "description" "Perfect for small businesses and freelancers."
              "popular" false
              "features" (slice
                  "10 projects"
                  "5GB storage"
                  "Basic reporting"
                  "48-hour support"
              )
              "cta" (dict
                  "text" "Get started"
                  "url" "/signup/basic"
              )
              "position" "left"
          )
          (dict
              "name" "Pro"
              "id" "tier-pro"
              "price" "$79"
              "interval" "/month"
              "description" "For growing teams and businesses."
              "popular" true
              "popularText" "Most popular"
              "features" (slice
                  "Unlimited projects"
                  "50GB storage"
                  "Advanced reporting"
                  "24-hour support"
                  "Custom integrations"
              )
              "cta" (dict
                  "text" "Get started"
                  "url" "/signup/pro"
              )
              "position" "center"
          )
          (dict
              "name" "Enterprise"
              "id" "tier-enterprise"
              "price" "$149"
              "interval" "/month"
              "description" "For organizations with advanced needs."
              "popular" false
              "features" (slice
                  "Unlimited projects"
                  "Unlimited storage"
                  "Custom reporting"
                  "Dedicated support"
                  "Advanced security"
                  "API access"
              )
              "cta" (dict
                  "text" "Contact sales"
                  "url" "/contact"
              )
              "position" "right"
          )
      )
  ) }}
@note: The center tier can be highlighted as the popular option and will be visually elevated. Colors for all elements are fully customizable through parameters.
*/}}

{{/* Three Tiers Pricing Section */}}
{{ $tagline := .tagline | default "Pricing" }}
{{ $heading := .heading | default "Pricing that grows with you" }}
{{ $description := .description | default "Choose an affordable plan that's packed with the best features for engaging your audience, creating customer loyalty, and driving sales." }}
{{ $backgroundColor := .backgroundColor | default "white" }}
{{ $taglineColor := .taglineColor | default "indigo-600" }}
{{ $headingColor := .headingColor | default "gray-900" }}
{{ $descriptionColor := .descriptionColor | default "gray-600" }}

{{ $tiers := .tiers | default (slice
  (dict
    "name" "Freelancer"
    "id" "tier-freelancer"
    "price" "$19"
    "interval" "/month"
    "description" "The essentials to provide your best work for clients."
    "popular" false
    "features" (slice
      "5 products"
      "Up to 1,000 subscribers"
      "Basic analytics"
      "48-hour support response time"
    )
    "cta" (dict
      "text" "Buy plan"
      "url" "#"
    )
    "nameColor" "gray-900"
    "priceColor" "gray-900"
    "intervalColor" "gray-600"
    "descriptionColor" "gray-600"
    "featureColor" "gray-600"
    "checkColor" "indigo-600"
    "ctaColor" "indigo-600"
    "ctaBgColor" ""
    "ctaRingColor" "indigo-200"
    "ctaHoverRingColor" "indigo-300"
    "backgroundColor" "white"
    "borderColor" "gray-200"
    "position" "left"
  )
  (dict
    "name" "Startup"
    "id" "tier-startup"
    "price" "$49"
    "interval" "/month"
    "description" "A plan that scales with your rapidly growing business."
    "popular" true
    "popularText" "Most popular"
    "popularBgColor" "indigo-600/10"
    "popularTextColor" "indigo-600"
    "features" (slice
      "25 products"
      "Up to 10,000 subscribers"
      "Advanced analytics"
      "24-hour support response time"
      "Marketing automations"
    )
    "cta" (dict
      "text" "Buy plan"
      "url" "#"
    )
    "nameColor" "indigo-600"
    "priceColor" "gray-900"
    "intervalColor" "gray-600"
    "descriptionColor" "gray-600"
    "featureColor" "gray-600"
    "checkColor" "indigo-600"
    "ctaColor" "white"
    "ctaBgColor" "indigo-600"
    "ctaHoverBgColor" "indigo-500"
    "backgroundColor" "white"
    "borderColor" "gray-200"
    "position" "center"
  )
  (dict
    "name" "Enterprise"
    "id" "tier-enterprise"
    "price" "$99"
    "interval" "/month"
    "description" "Dedicated support and infrastructure for your company."
    "popular" false
    "features" (slice
      "Unlimited products"
      "Unlimited subscribers"
      "Advanced analytics"
      "1-hour, dedicated support response time"
      "Marketing automations"
    )
    "cta" (dict
      "text" "Buy plan"
      "url" "#"
    )
    "nameColor" "gray-900"
    "priceColor" "gray-900"
    "intervalColor" "gray-600"
    "descriptionColor" "gray-600"
    "featureColor" "gray-600"
    "checkColor" "indigo-600"
    "ctaColor" "indigo-600"
    "ctaBgColor" ""
    "ctaRingColor" "indigo-200"
    "ctaHoverRingColor" "indigo-300"
    "backgroundColor" "white"
    "borderColor" "gray-200"
    "position" "right"
  )
) }}

{{ $checkIcon := .checkIcon | default "<path fill-rule=\"evenodd\" d=\"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z\" clip-rule=\"evenodd\" />" }}

<div class="bg-{{ $backgroundColor }} py-24 sm:py-32">
  <div class="mx-auto w-full max-w-[1600px] px-4 sm:px-6 lg:px-8">
    <div class="mx-auto max-w-4xl text-center">
      <h2 class="text-base/7 font-semibold text-{{ $taglineColor }}">{{ $tagline }}</h2>
      <p class="mt-2 text-5xl font-semibold tracking-tight text-balance text-{{ $headingColor }} sm:text-6xl">{{ $heading }}</p>
    </div>
    <p class="mx-auto mt-6 max-w-2xl text-center text-lg font-medium text-pretty text-{{ $descriptionColor }} sm:text-xl/8">{{ $description }}</p>
    <div class="isolate mx-auto mt-16 flex flex-col items-center gap-y-8 sm:mt-20 lg:flex-row lg:justify-center lg:gap-x-16">
      {{ range $tier := $tiers }}
      <div class="flex flex-col justify-between rounded-3xl bg-{{ $tier.backgroundColor }} p-8 ring-1 ring-{{ $tier.borderColor }} w-[350px] sm:w-[450px] md:w-[500px] lg:w-[320px] xl:w-[400px] 2xl:w-[450px]
        {{- if eq $tier.position "left" }} lg:mt-8 lg:rounded-r-none{{ end }}
        {{- if eq $tier.position "center" }} lg:z-10 lg:rounded-b-none{{ end }}
        {{- if eq $tier.position "right" }} lg:mt-8 lg:rounded-l-none{{ end }}
        xl:p-10">
        <div>
          <div class="flex items-center justify-between gap-x-4">
            <h3 id="{{ $tier.id }}" class="text-lg/8 font-semibold text-{{ $tier.nameColor }}">{{ $tier.name }}</h3>
            {{ if $tier.popular }}
            <p class="rounded-full bg-{{ $tier.popularBgColor }} px-2.5 py-1 text-xs/5 font-semibold text-{{ $tier.popularTextColor }}">{{ $tier.popularText }}</p>
            {{ end }}
          </div>
          <p class="mt-4 text-sm/6 text-{{ $tier.descriptionColor }}">{{ $tier.description }}</p>
          <p class="mt-6 flex items-baseline gap-x-1">
            <span class="text-4xl font-semibold tracking-tight text-{{ $tier.priceColor }}">{{ $tier.price }}</span>
            <span class="text-sm/6 font-semibold text-{{ $tier.intervalColor }}">{{ $tier.interval }}</span>
          </p>
          <ul role="list" class="mt-8 space-y-3 text-sm/6 text-{{ $tier.featureColor }}">
            {{ range $feature := $tier.features }}
            <li class="flex gap-x-3">
              <svg class="h-6 w-5 flex-none text-{{ $tier.checkColor }}" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
                {{ $checkIcon | safeHTML }}
              </svg>
              {{ $feature }}
            </li>
            {{ end }}
          </ul>
        </div>
        {{ if $tier.ctaBgColor }}
        <a href="{{ $tier.cta.url }}" aria-describedby="{{ $tier.id }}" class="mt-8 block rounded-md bg-{{ $tier.ctaBgColor }} px-3 py-2 text-center text-sm/6 font-semibold text-{{ $tier.ctaColor }} shadow-xs hover:bg-{{ $tier.ctaHoverBgColor }} focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-{{ $tier.ctaColor }}">{{ $tier.cta.text }}</a>
        {{ else }}
        <a href="{{ $tier.cta.url }}" aria-describedby="{{ $tier.id }}" class="mt-8 block rounded-md px-3 py-2 text-center text-sm/6 font-semibold text-{{ $tier.ctaColor }} ring-1 ring-{{ $tier.ctaRingColor }} ring-inset hover:ring-{{ $tier.ctaHoverRingColor }} focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-{{ $tier.ctaColor }}">{{ $tier.cta.text }}</a>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </div>
</div>
