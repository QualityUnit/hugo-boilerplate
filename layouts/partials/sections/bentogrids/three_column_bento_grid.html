{{/*
@section: Three Column Bento Grid
@description: A visually appealing layout featuring multiple content cards of varying sizes arranged in a three-column grid pattern, ideal for showcasing features or product highlights.
@params:
  - tagline: Short text displayed above the main heading (optional, default: "Deploy faster")
  - heading: Main section heading (optional, default: "Everything you need to deploy your app")
  - taglineColor: Color class for the tagline (optional, default: "indigo-600")
  - backgroundColor: Background color class for the section (optional, default: "gray-50")
  - cards: Array of card objects with content (supports unlimited cards)
    - title: Card title text (optional)
    - description: Card description text (optional)
    - image: URL to image (required)
    - imageAlt: Alt text for the image (optional)
@example:
  {{ partial "sections/bentogrids/three_column_bento_grid.html" (dict 
      "tagline" "Features" 
      "heading" "Everything you need to build your application"
      "backgroundColor" "white"
      "cards" (slice
          (dict
              "title" "Responsive Design" 
              "description" "Our platform automatically adapts to any device or screen size."
              "image" "/images/features/responsive.png"
              "imageAlt" "Responsive design illustration"
          )
          (dict
              "title" "Analytics" 
              "description" "Detailed insights into your user behavior and application performance."
              "image" "/images/features/analytics.png"
              "imageAlt" "Analytics dashboard"
          )
          (dict
              "title" "Security" 
              "description" "Enterprise-grade security with end-to-end encryption."
              "image" "/images/features/security.png"
              "imageAlt" "Security shield"
          )
          (dict
              "image" "/images/features/more-features.png"
              "imageAlt" "Additional feature"
          )
      )
  ) }}
@note: This section uses a dynamic bento grid layout with cards of varying sizes to create visual interest. The layout automatically adapts to any number of cards provided. Every third card (0, 3, 6...) will span 2 rows to create visual interest. Card heights are dynamically calculated based on their content.
*/}}

{{/* Three Column Bento Grid Section */}}
{{ $tagline := .tagline | default "Deploy faster" }}
{{ $heading := .heading | default "Everything you need to deploy your app" }}
{{ $taglineColor := .taglineColor | default "indigo-600" }}
{{ $backgroundColor := .backgroundColor | default "gray-50" }}

{{ $cards := .cards | default (slice
  (dict
    "title" "Mobile friendly"
    "description" "Anim aute id magna aliqua ad ad non deserunt sunt. Qui irure qui lorem cupidatat commodo."
    "image" "https://tailwindcss.com/plus-assets/img/component-images/bento-03-mobile-friendly.png"
    "imageAlt" "Mobile friendly interface"
  )
  (dict
    "title" "Performance"
    "description" "Lorem ipsum, dolor sit amet consectetur adipisicing elit maiores impedit."
    "image" "https://tailwindcss.com/plus-assets/img/component-images/bento-03-performance.png"
    "imageAlt" "Performance metrics"
  )
  (dict
    "title" "Security"
    "description" "Morbi viverra dui mi arcu sed. Tellus semper adipiscing suspendisse semper morbi."
    "image" "https://tailwindcss.com/plus-assets/img/component-images/bento-03-security.png"
    "imageAlt" "Security shield"
  )
  (dict
    "title" "Additional Features"
    "description" "Sit quis amet rutrum tellus ullamcorper ultricies libero dolor eget sem sodales gravida."
    "image" "https://tailwindcss.com/plus-assets/img/component-images/bento-03-api.png" 
    "imageAlt" "API documentation"
  )
) }}

<div class="bg-{{ $backgroundColor }} py-24 sm:py-32">
  <div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
    <h2 class="text-center text-base/7 font-semibold text-{{ $taglineColor }}">{{ $tagline }}</h2>
    <p class="mx-auto mt-2 max-w-lg text-center text-4xl font-semibold tracking-tight text-balance text-gray-950 sm:text-5xl">{{ $heading }}</p>
    <div class="mt-10 grid gap-4 sm:mt-16 lg:grid-cols-3">
      {{ range $index, $card := $cards }}
        <div class="relative">
          <div class="absolute inset-px rounded-lg bg-white"></div>
          <div class="relative flex flex-col overflow-hidden rounded-[calc(var(--radius-lg)+1px)]">
            {{ if or $card.title $card.description }}
            <div class="px-8 pt-8 pb-3 sm:px-10 sm:pt-10 sm:pb-0">
              {{ if $card.title }}
              <p class="mt-2 text-lg font-medium tracking-tight text-gray-950 max-lg:text-center">{{ $card.title }}</p>
              {{ end }}
              {{ if $card.description }}
              <p class="mt-2 max-w-lg text-sm/6 text-gray-600 max-lg:text-center">{{ $card.description }}</p>
              {{ end }}
            </div>
            {{ end }}

            {{ if $card.image }}
            <div class="{{ if or (not $card.title) (not $card.description) }}mt-8{{ end }} @container flex items-center justify-center px-8 sm:px-10 pb-8">
              {{ partial "components/media/lazyimg.html" (dict "src" $card.image "alt" ($card.imageAlt | default "") ) }}
            </div>
            {{ end }}
          </div>
          <div class="pointer-events-none absolute inset-px rounded-lg ring-1 shadow-sm ring-black/5"></div>
        </div>
      {{ end }}
    </div>
  </div>
</div>
