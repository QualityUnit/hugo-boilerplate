{{/*
@component: Label
@description: A flexible label/badge component using predefined badge classes from main.css
@params:
  - text: Text content for the label (required)
  - badgeClass: Badge class from main.css (default: "badge-gray-with-border")
    Available options:
    - badge-gray-with-border (default)
    - badge-red-with-border
    - badge-yellow-with-border
    - badge-green-with-border
    - badge-blue-with-border
    - badge-purple-with-border
    - badge-indigo-with-border
    - badge-pink-with-border
    - badge-orange-with-border
    - badge-teal-with-border
    - badge-cyan-with-border
    - badge-lime-with-border
    - badge-emerald-with-border
    - badge-sky-with-border
    - badge-violet-with-border
    - badge-fuchsia-with-border
    - badge-rose-with-border
    - badge-amber-with-border
    - badge-slate-with-border
    - badge-gray (flat without border)
    - badge-red (flat without border)
    - badge-yellow (flat without border)
    - badge-green (flat without border)
    - badge-blue (flat without border)
    - badge-purple (flat without border)
    - badge-indigo (flat without border)
    - badge-pink (flat without border)
    - badge-orange (flat without border)
    - badge-teal (flat without border)
    - badge-cyan (flat without border)
    - badge-lime (flat without border)
    - badge-emerald (flat without border)
    - badge-sky (flat without border)
    - badge-violet (flat without border)
    - badge-fuchsia (flat without border)
    - badge-rose (flat without border)
    - badge-amber (flat without border)
    - badge-slate (flat without border)
  - icon: Icon name to display before text (optional)
  - iconClass: Classes for the icon (default: "mr-1.5 h-2 w-2")
  - classes: Additional CSS classes to add (optional)
  - url: URL to make the label clickable as a link (optional)
  - target: Link target attribute (default: "_self", can be "_blank" for new window)
@example:
  {{ partial "components/label/label.html" (dict 
      "text" "New Feature" 
      "badgeClass" "badge-blue-with-border"
  ) }}

  {{ partial "components/label/label.html" (dict 
      "text" "Premium" 
      "badgeClass" "badge-yellow-with-border"
      "icon" "star"
      "url" "/tags/premium/"
  ) }}

  {{ partial "components/label/label.html" (dict 
      "text" "AI Tools" 
      "badgeClass" "badge-green-with-border"
      "url" "/tags/ai-tools/"
      "target" "_blank"
  ) }}
*/}}

{{/* Set default values if not provided */}}
{{ $text := .text | default "Badge" }}
{{ $badgeClass := .badgeClass | default "badge-gray-with-border" }}
{{ $icon := .icon | default "" }}
{{ $iconClass := .iconClass | default "mr-1.5 h-2 w-2" }}
{{ $classes := .classes | default "" }}
{{ $url := .url | default "" }}
{{ $target := .target | default "_self" }}

{{/* Prepare link styling classes */}}
{{ $linkClasses := "" }}
{{ if $url }}
  {{ $linkClasses = "hover:opacity-80 transition-opacity duration-200 cursor-pointer" }}
{{ end }}

{{/* Render the label with conditional link wrapper */}}
{{ if $url }}
  <a href="{{ $url }}" target="{{ $target }}" class="{{ $badgeClass }} {{ $classes }} {{ $linkClasses }} no-underline">
    {{/* Icon rendering if specified */}}
    {{ if $icon }}
      {{ $iconPath := printf "themes/boilerplate/layouts/partials/icons/%s.html" $icon }}
      {{ if fileExists $iconPath }}
        {{ partial (printf "icons/%s" $icon) $iconClass }}
      {{ end }}
    {{ end }}
    {{/* Label text content */}}
    {{ $text }}
  </a>
{{ else }}
  <span class="{{ $badgeClass }} {{ $classes }} cursor-pointer [&_a]:no-underline [&_a]:text-inherit [&_a:hover]:text-inherit [&_a:focus]:text-inherit [&_a]:font-semibold">
    {{/* Icon rendering if specified */}}
    {{ if $icon }}
      {{ $iconPath := printf "themes/boilerplate/layouts/partials/icons/%s.html" $icon }}
      {{ if fileExists $iconPath }}
        {{ partial (printf "icons/%s" $icon) $iconClass }}
      {{ end }}
    {{ end }}
    {{/* Label text content */}}
    {{ $text }}
  </span>
{{ end }}